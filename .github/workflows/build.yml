name: Deploy page # actionçš„åå­—ï¼Œä¼šæ˜¾ç¤ºåœ¨github Actionsçš„All workflowsä¸‹é¢

on: # è§¦å‘æ¡ä»¶
  push: # pushä»£ç æ—¶
    branches: # è§¦å‘pushçš„åˆ†æ”¯
      - main # å¯ä»¥ä¿®æ”¹æˆä½ è‡ªå·±æƒ³æ„å»ºçš„åˆ†æ”¯
jobs:
  build-and-deploy:
    runs-on: macos-latest # è·‘è„šæœ¬çš„æœºå™¨
    steps: # æ­¥éª¤
      - name: Checkout ğŸ›ï¸ # ç¬¬ä¸€æ­¥ æ‹‰ä»£ç 
        uses: actions/checkout@v2  # æ‹‰ä»£ç çš„æ’ä»¶
        with:
          persist-credentials: false


      - name: Install and Build ğŸ”§  # ç¬¬äºŒæ­¥ï¼Œè£…nodeåŒ…ï¼Œæ„å»º
        run: |
          npm install
          CI=false && npm run build  # ä½ è‡ªå·±é¡¹ç›®çš„æ„å»ºå‘½ä»¤
          cp build/index.html build/404.html # é˜²æ­¢404è·³è½¬githubçš„404

      # - name: Deploy ğŸš€ # éƒ¨ç½²
      #   id: 'deploy'
      #   uses: JamesIves/github-pages-deploy-action@releases/v3 # éƒ¨ç½²åˆ°githubçš„é™æ€é¡µï¼Œä¼šå°†æ‰“åŒ…åçš„æ–‡ä»¶æ¨é€è‡³ä¸‹é¢å¡«å†™çš„åˆ†æ”¯ï¼Œå¯ä»¥ç›´æ¥æ–°å¼€ä¸€ä¸ªåˆ†æ”¯ç”¨æ¥æ”¾æ‰“åŒ…åçš„æ–‡ä»¶
      #   with:
      #     GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      #     BRANCH: static-page # ç¼–è¯‘æ–‡ä»¶åˆ†æ”¯
      #     FOLDER: build # ç¼–è¯‘æ–‡ä»¶çš„æ–‡ä»¶å¤¹

      # - name: Send Notification # å‘é€é‚®ä»¶
      #   uses: dawidd6/action-send-mail@master # å‘é‚®ä»¶çš„æ’ä»¶ï¼Œæ‰“å¼€ä½ å°å·é‚®ç®±çš„è®¾ç½®ç•Œé¢ï¼Œå¼€å¯SMTPæœåŠ¡ï¼Œè®°ä½æˆæƒç ã€‚
      #   with:
      #     server_address: smtp.163.com
      #     server_port: 465
      #     username: ${{ secrets.MAIL_USERNAME }} # é‚®ç®±å°å·çš„ç™»å½•å
      #     password: ${{ secrets.MAIL_PASSWORD }} # å¼€å¯æœåŠ¡æ—¶çš„æˆæƒç 
      #     subject: ã€ã€‘#é‚®ä»¶ä¸»é¢˜
      #     body: é‚®ä»¶å†…å®¹
      #     to: xxxx@xxx.com # æ”¶ä»¶é‚®ç®±
      #     from: GitHub Actions # å‘ä»¶äºº